____
# ESPHome_Stairs
Контроллер освещения лестницы
____

# Возможности:
- Установка цвета и яркости светодиодной ленты
- Включение эффектов
- Работа с датчиками прохода (счетчики людей) 


Подсчитываем прохожих двумя vl53l0x в начале лестницы и двумя в конце.
Датчики распологаем на расстоянии 10-12 см друг от друга в подрозетниках.
Там же ставим Ардуино Нано для подсчета людей и отправки значений по rs485 в контроллер ленты.
По косоуру тянем провода:
- 2x2,5 - питание ленты, отходит к ступенькам в виде двух проводов в кабеле 2x0,75
- 2x0,75  DATA и CLK
- 2x0.75 RS485, соединяет нижний датчик с Контроллером ленты и верхним датчиком
 
Размечаем на лестнице место монтажа ленты
От края ленты отступаем по сантиметру в каждую сторону по 2 см на провода, то есть всего на 4 см больше
Сверлим отверстия, протягиваем кабель


# Эффекты

  1. half2ends
  Зажигание
  Ближайшая ступенька зажигается с середины и свет расходится к краям. Далее также зажигается следующая и так до конца.

  Режим движения
  Просто горит одним цветом

  Затухание
  Самая дальняя ступенька гаснет от краев к середине. За ней гаснет следующая итд.



  2. wave (частично реализовано)

  Зажигание
  Ближайшая ступенька зажигается полностью. Далее также зажигается следующая и так до конца.

  Режим движения
  Ступени меняют цвет на следующий, повторяя направление движения. Наример, первая ступень голубая, вторая голубая.... последняя голубая, далее первая зеленая, вторая зеленая итд.

  Затухание
  Самая дальняя ступенька гаснет первой. За ней гаснет следующая итд.


  3. Зажигание
  Все ступени подсвечиваются светлым оттенком в треть яркости.

  Режим движения
  Три ступени через одну окрашиваются в разные цвета и двигаются в направлении движения

  Затухание
  Самая дальняя ступенька гаснет первой. За ней гаснет следующая итд.



  4. Cascade
  Зажигание
  Самая дальняя ступенька зажигается полностью, после этого перебегает на предпоследнюю, последняя гаснет. Далее также зажигается следующая, предыдущаяя гаснет и так до начала.
  Как будто прибегающий свет подбежал под ногу. В конце этого действия горит первая ступенька под ногой.
  Далее свет снова начинает бежать от последней ступеньки ко второй. После к третьей. И так до последней.

  Режим движения
  Просто горит.

  Затухание
  Самая дальняя ступенька гаснет первой. За ней гаснет убегая следующая ... в конце убегает вдаль свет от ближайшей ступеньки.



  5. Зажигание
  Вся лестница загорается горизонтальными линиями, расположенными градиентом по цвету радуги.

  Режим движения
  Слева направо в направлении движения пробегает паровозик из шести светодиодов, горящим желтым. Сначала по первой ступеньки, затем по следующей итд.

  Затухание
  Плавно меняется яркость до нуля.

  6. Зажигание
  Вся лестница загорается горизонтальными линиями, расположенными градиентом по цвету радуги.

  Режим движения
  Сверху вниз (или снизу вверх, зависит от направления движения) движется градиент цвета

  Затухание
  Плавно меняется яркость до нуля.



  7. Зажигание
  Справа налево пробегает свет по ближайшей ступени, оставляя ее зажженой. Далее справа налево также пробегает по второй ступени, окрашивая ее в этот же цвет.

  Режим движения
  Справа налево в направлении движения новый цвет перекрашивает предыдущий. От первой ступени к последующим.

  Затухание
  Слева направо гасится последняя ступень, далее предпоследняя и тд до первой.






